{"version":3,"sources":["spotify.js"],"names":["https","require","url","exports","search","q","type","encodeURIComponent","Promise","rslv","rjct","get","res","statusCode","Error","body","on","chunk","JSON","parse","err"],"mappings":"AAAA,MAAMA,QAAQC,QAAQ,OAAR,CAAd;AACA,MAAMC,MAAM,6CAAZ;;AAEAC,QAAQC,MAAR,GAAiB,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC1BD,QAAIE,mBAAmBF,CAAnB,CAAJ;AACAC,WAAOC,mBAAmBD,IAAnB,CAAP;AACA,WAAO,IAAIE,OAAJ,CACH,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACZV,cAAMW,GAAN,CACK,GAAET,GAAI,SAAQI,IAAK,MAAKD,CAAE,EAD/B,EAEIO,OAAO;AACH,gBAAIA,IAAIC,UAAJ,IAAkB,GAAtB,EAA2B;AACvB,uBAAOH,KACH,IAAII,KAAJ,CACIF,IAAIC,UADR,CADG,CAAP;AAKH;AACD,gBAAIE,OAAO,EAAX;AACAH,gBAAII,EAAJ,CACI,MADJ,EAEIC,SAASF,QAAQE,KAFrB,EAGED,EAHF,CAII,KAJJ,EAKI,MAAM;AACFP,qBACIS,KAAKC,KAAL,CACIJ,IADJ,CADJ;AAKH,aAXL,EAYEC,EAZF,CAaI,OAbJ,EAcII,OAAOV,KAAKU,GAAL,CAdX;AAgBH,SA3BL;AA6BH,KA/BE,CAAP;AAiCH,CApCD","file":"spotify.js","sourcesContent":["const https = require('https');\nconst url = 'https://elegant-croissant.glitch.me/spotify';\n\nexports.search = (q, type) => {\n    q = encodeURIComponent(q);\n    type = encodeURIComponent(type);\n    return new Promise(\n        (rslv, rjct) => {\n            https.get(\n                `${url}?type=${type}&q=${q}`,\n                res => {\n                    if (res.statusCode != 200) {\n                        return rjct(\n                            new Error(\n                                res.statusCode\n                            )\n                        );\n                    }\n                    let body = '';\n                    res.on(\n                        'data',\n                        chunk => body += chunk\n                    ).on(\n                        'end',\n                        () => {\n                            rslv(\n                                JSON.parse(\n                                    body\n                                )\n                            );\n                        }\n                    ).on(\n                        'error',\n                        err => rjct(err)\n                    );\n                }\n            );\n        }\n    );\n};\n"]}