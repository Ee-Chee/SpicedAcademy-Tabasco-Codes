5706fc622c1eeefbb4d89cda3b29a850
const https = require('https');
const url = 'https://elegant-croissant.glitch.me/spotify';

exports.search = (q, type) => {
    q = encodeURIComponent(q);
    type = encodeURIComponent(type);
    return new Promise((rslv, rjct) => {
        https.get(`${url}?type=${type}&q=${q}`, res => {
            if (res.statusCode != 200) {
                return rjct(new Error(res.statusCode));
            }
            let body = '';
            res.on('data', chunk => body += chunk).on('end', () => {
                rslv(JSON.parse(body));
            }).on('error', err => rjct(err));
        });
    });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwb3RpZnkuanMiXSwibmFtZXMiOlsiaHR0cHMiLCJyZXF1aXJlIiwidXJsIiwiZXhwb3J0cyIsInNlYXJjaCIsInEiLCJ0eXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiUHJvbWlzZSIsInJzbHYiLCJyamN0IiwiZ2V0IiwicmVzIiwic3RhdHVzQ29kZSIsIkVycm9yIiwiYm9keSIsIm9uIiwiY2h1bmsiLCJKU09OIiwicGFyc2UiLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVFDLFFBQVEsT0FBUixDQUFkO0FBQ0EsTUFBTUMsTUFBTSw2Q0FBWjs7QUFFQUMsUUFBUUMsTUFBUixHQUFpQixDQUFDQyxDQUFELEVBQUlDLElBQUosS0FBYTtBQUMxQkQsUUFBSUUsbUJBQW1CRixDQUFuQixDQUFKO0FBQ0FDLFdBQU9DLG1CQUFtQkQsSUFBbkIsQ0FBUDtBQUNBLFdBQU8sSUFBSUUsT0FBSixDQUNILENBQUNDLElBQUQsRUFBT0MsSUFBUCxLQUFnQjtBQUNaVixjQUFNVyxHQUFOLENBQ0ssR0FBRVQsR0FBSSxTQUFRSSxJQUFLLE1BQUtELENBQUUsRUFEL0IsRUFFSU8sT0FBTztBQUNILGdCQUFJQSxJQUFJQyxVQUFKLElBQWtCLEdBQXRCLEVBQTJCO0FBQ3ZCLHVCQUFPSCxLQUNILElBQUlJLEtBQUosQ0FDSUYsSUFBSUMsVUFEUixDQURHLENBQVA7QUFLSDtBQUNELGdCQUFJRSxPQUFPLEVBQVg7QUFDQUgsZ0JBQUlJLEVBQUosQ0FDSSxNQURKLEVBRUlDLFNBQVNGLFFBQVFFLEtBRnJCLEVBR0VELEVBSEYsQ0FJSSxLQUpKLEVBS0ksTUFBTTtBQUNGUCxxQkFDSVMsS0FBS0MsS0FBTCxDQUNJSixJQURKLENBREo7QUFLSCxhQVhMLEVBWUVDLEVBWkYsQ0FhSSxPQWJKLEVBY0lJLE9BQU9WLEtBQUtVLEdBQUwsQ0FkWDtBQWdCSCxTQTNCTDtBQTZCSCxLQS9CRSxDQUFQO0FBaUNILENBcENEIiwiZmlsZSI6InNwb3RpZnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5jb25zdCB1cmwgPSAnaHR0cHM6Ly9lbGVnYW50LWNyb2lzc2FudC5nbGl0Y2gubWUvc3BvdGlmeSc7XG5cbmV4cG9ydHMuc2VhcmNoID0gKHEsIHR5cGUpID0+IHtcbiAgICBxID0gZW5jb2RlVVJJQ29tcG9uZW50KHEpO1xuICAgIHR5cGUgPSBlbmNvZGVVUklDb21wb25lbnQodHlwZSk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKFxuICAgICAgICAocnNsdiwgcmpjdCkgPT4ge1xuICAgICAgICAgICAgaHR0cHMuZ2V0KFxuICAgICAgICAgICAgICAgIGAke3VybH0/dHlwZT0ke3R5cGV9JnE9JHtxfWAsXG4gICAgICAgICAgICAgICAgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlICE9IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJqY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgcmVzLm9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsgPT4gYm9keSArPSBjaHVua1xuICAgICAgICAgICAgICAgICAgICApLm9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnNsdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICkub24oXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHJqY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICApO1xufTtcbiJdfQ==